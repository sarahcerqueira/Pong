/*
	Sarah Pereira

	Este modulo desenha na tela de acordo com o sincronizador.
*/


`include "sincronizador.v"


module vga_sprite(Clock, barra_e_y, barra_d_y, bola_x, bola_y, HSync, VSync, R, G, B);

input Clock;
input barra_e_y;
input barra_d_y;
input bola_x;
input bola_y;

//Saídas para o sincronizador
output reg HSync;
output reg VSync;
output reg [3:0] R;
output reg [3:0] G;
output reg [3:0] B;


//Sprites em hadware
reg [49:0] barra_e [0:14];			//Barra 100 por 15
reg [49:0] barra_d [0:14];			//Barra 100 por 15
reg [19: 0] bola [0:19];			//Bola 20 por 10


//Pocição das Sprites
reg [9:0] barra_e_x = 0;
reg [9:0] barra_d_x = 625;

//Tamanho das sprite
reg [9:0] largura_barra = 15;
reg [9:0] altura_barra = 100;
reg [9:0] tamanho_bola = 20;

//Desenho das Sprites em hadware
barra_e [0][0:14] <= 15'b111111111111111;
barra_e [1][0:14] <= 15'b111111111111111;
barra_e [2][0:14] <= 15'b111111111111111;
barra_e [3][0:14] <= 15'b111111111111111;
barra_e [4][0:14] <= 15'b111111111111111;
barra_e [5][0:14] <= 15'b111111111111111;
barra_e [6][0:14] <= 15'b111111111111111;
barra_e [7][0:14] <= 15'b111111111111111;
barra_e [8][0:14] <= 15'b111111111111111;
barra_e [9][0:14] <= 15'b111111111111111;
barra_e [10][0:14] <= 15'b111111111111111;
barra_e [11][0:14] <= 15'b111111111111111;
barra_e [12][0:14] <= 15'b111111111111111;
barra_e [13][0:14] <= 15'b111111111111111;
barra_e [14][0:14] <= 15'b111111111111111;
barra_e [15][0:14] <= 15'b111111111111111;
barra_e [16][0:14] <= 15'b111111111111111;
barra_e [17][0:14] <= 15'b111111111111111;
barra_e [18][0:14] <= 15'b111111111111111;
barra_e [19][0:14] <= 15'b111111111111111;
barra_e [20][0:14] <= 15'b111111111111111;
barra_e [21][0:14] <= 15'b111111111111111;
barra_e [22][0:14] <= 15'b111111111111111;
barra_e [23][0:14] <= 15'b111111111111111;
barra_e [24][0:14] <= 15'b111111111111111;
barra_e [25][0:14] <= 15'b111111111111111;
barra_e [26][0:14] <= 15'b111111111111111;
barra_e [27][0:14] <= 15'b111111111111111;
barra_e [28][0:14] <= 15'b111111111111111;
barra_e [29][0:14] <= 15'b111111111111111;
barra_e [30][0:14] <= 15'b111111111111111;
barra_e [31][0:14] <= 15'b111111111111111;
barra_e [32][0:14] <= 15'b111111111111111;
barra_e [33][0:14] <= 15'b111111111111111;
barra_e [34][0:14] <= 15'b111111111111111;
barra_e [35][0:14] <= 15'b111111111111111;
barra_e [36][0:14] <= 15'b111111111111111;
barra_e [37][0:14] <= 15'b111111111111111;
barra_e [38][0:14] <= 15'b111111111111111;
barra_e [39][0:14] <= 15'b111111111111111;
barra_e [40][0:14] <= 15'b111111111111111;
barra_e [41][0:14] <= 15'b111111111111111;
barra_e [42][0:14] <= 15'b111111111111111;
barra_e [43][0:14] <= 15'b111111111111111;
barra_e [44][0:14] <= 15'b111111111111111;
barra_e [45][0:14] <= 15'b111111111111111;
barra_e [46][0:14] <= 15'b111111111111111;
barra_e [47][0:14] <= 15'b111111111111111;
barra_e [48][0:14] <= 15'b111111111111111;
barra_e [49][0:14] <= 15'b111111111111111;
barra_e [50][0:14] <= 15'b111111111111111;
barra_e [51][0:14] <= 15'b111111111111111;
barra_e [52][0:14] <= 15'b111111111111111;
barra_e [53][0:14] <= 15'b111111111111111;
barra_e [54][0:14] <= 15'b111111111111111;
barra_e [55][0:14] <= 15'b111111111111111;
barra_e [56][0:14] <= 15'b111111111111111;
barra_e [57][0:14] <= 15'b111111111111111;
barra_e [58][0:14] <= 15'b111111111111111;
barra_e [59][0:14] <= 15'b111111111111111;
barra_e [60][0:14] <= 15'b111111111111111;
barra_e [61][0:14] <= 15'b111111111111111;
barra_e [62][0:14] <= 15'b111111111111111;
barra_e [63][0:14] <= 15'b111111111111111;
barra_e [64][0:14] <= 15'b111111111111111;
barra_e [65][0:14] <= 15'b111111111111111;
barra_e [66][0:14] <= 15'b111111111111111;
barra_e [67][0:14] <= 15'b111111111111111;
barra_e [68][0:14] <= 15'b111111111111111;
barra_e [69][0:14] <= 15'b111111111111111;
barra_e [70][0:14] <= 15'b111111111111111;
barra_e [71][0:14] <= 15'b111111111111111;
barra_e [72][0:14] <= 15'b111111111111111;
barra_e [73][0:14] <= 15'b111111111111111;
barra_e [74][0:14] <= 15'b111111111111111;
barra_e [75][0:14] <= 15'b111111111111111;
barra_e [76][0:14] <= 15'b111111111111111;
barra_e [77][0:14] <= 15'b111111111111111;
barra_e [78][0:14] <= 15'b111111111111111;
barra_e [79][0:14] <= 15'b111111111111111;
barra_e [80][0:14] <= 15'b111111111111111;
barra_e [81][0:14] <= 15'b111111111111111;
barra_e [82][0:14] <= 15'b111111111111111;
barra_e [83][0:14] <= 15'b111111111111111;
barra_e [84][0:14] <= 15'b111111111111111;
barra_e [85][0:14] <= 15'b111111111111111;
barra_e [86][0:14] <= 15'b111111111111111;
barra_e [87][0:14] <= 15'b111111111111111;
barra_e [88][0:14] <= 15'b111111111111111;
barra_e [89][0:14] <= 15'b111111111111111;
barra_e [90][0:14] <= 15'b111111111111111;
barra_e [91][0:14] <= 15'b111111111111111;
barra_e [92][0:14] <= 15'b111111111111111;
barra_e [93][0:14] <= 15'b111111111111111;
barra_e [94][0:14] <= 15'b111111111111111;
barra_e [95][0:14] <= 15'b111111111111111;
barra_e [96][0:14] <= 15'b111111111111111;
barra_e [97][0:14] <= 15'b111111111111111;
barra_e [98][0:14] <= 15'b111111111111111;
barra_e [99][0:14] <= 15'b111111111111111;


barra_d [0][0:14] <= 15'b111111111111111;
barra_d [1][0:14] <= 15'b111111111111111;
barra_d [2][0:14] <= 15'b111111111111111;
barra_d [3][0:14] <= 15'b111111111111111;
barra_d [4][0:14] <= 15'b111111111111111;
barra_d [5][0:14] <= 15'b111111111111111;
barra_d [6][0:14] <= 15'b111111111111111;
barra_d [7][0:14] <= 15'b111111111111111;
barra_d [8][0:14] <= 15'b111111111111111;
barra_d [9][0:14] <= 15'b111111111111111;
barra_d [10][0:14] <= 15'b111111111111111;
barra_d [11][0:14] <= 15'b111111111111111;
barra_d [12][0:14] <= 15'b111111111111111;
barra_d [13][0:14] <= 15'b111111111111111;
barra_d [14][0:14] <= 15'b111111111111111;
barra_d [15][0:14] <= 15'b111111111111111;
barra_d [16][0:14] <= 15'b111111111111111;
barra_d [17][0:14] <= 15'b111111111111111;
barra_d [18][0:14] <= 15'b111111111111111;
barra_d [19][0:14] <= 15'b111111111111111;
barra_d [20][0:14] <= 15'b111111111111111;
barra_d [21][0:14] <= 15'b111111111111111;
barra_d [22][0:14] <= 15'b111111111111111;
barra_d [23][0:14] <= 15'b111111111111111;
barra_d [24][0:14] <= 15'b111111111111111;
barra_d [25][0:14] <= 15'b111111111111111;
barra_d [26][0:14] <= 15'b111111111111111;
barra_d [27][0:14] <= 15'b111111111111111;
barra_d [28][0:14] <= 15'b111111111111111;
barra_d [29][0:14] <= 15'b111111111111111;
barra_d [30][0:14] <= 15'b111111111111111;
barra_d [31][0:14] <= 15'b111111111111111;
barra_d [32][0:14] <= 15'b111111111111111;
barra_d [33][0:14] <= 15'b111111111111111;
barra_d [34][0:14] <= 15'b111111111111111;
barra_d [35][0:14] <= 15'b111111111111111;
barra_d [36][0:14] <= 15'b111111111111111;
barra_d [37][0:14] <= 15'b111111111111111;
barra_d [38][0:14] <= 15'b111111111111111;
barra_d [39][0:14] <= 15'b111111111111111;
barra_d [40][0:14] <= 15'b111111111111111;
barra_d [41][0:14] <= 15'b111111111111111;
barra_d [42][0:14] <= 15'b111111111111111;
barra_d [43][0:14] <= 15'b111111111111111;
barra_d [44][0:14] <= 15'b111111111111111;
barra_d [45][0:14] <= 15'b111111111111111;
barra_d [46][0:14] <= 15'b111111111111111;
barra_d [47][0:14] <= 15'b111111111111111;
barra_d [48][0:14] <= 15'b111111111111111;
barra_d [49][0:14] <= 15'b111111111111111;
barra_d [50][0:14] <= 15'b111111111111111;
barra_d [51][0:14] <= 15'b111111111111111;
barra_d [52][0:14] <= 15'b111111111111111;
barra_d [53][0:14] <= 15'b111111111111111;
barra_d [54][0:14] <= 15'b111111111111111;
barra_d [55][0:14] <= 15'b111111111111111;
barra_d [56][0:14] <= 15'b111111111111111;
barra_d [57][0:14] <= 15'b111111111111111;
barra_d [58][0:14] <= 15'b111111111111111;
barra_d [59][0:14] <= 15'b111111111111111;
barra_d [60][0:14] <= 15'b111111111111111;
barra_d [61][0:14] <= 15'b111111111111111;
barra_d [62][0:14] <= 15'b111111111111111;
barra_d [63][0:14] <= 15'b111111111111111;
barra_d [64][0:14] <= 15'b111111111111111;
barra_d [65][0:14] <= 15'b111111111111111;
barra_d [66][0:14] <= 15'b111111111111111;
barra_d [67][0:14] <= 15'b111111111111111;
barra_d [68][0:14] <= 15'b111111111111111;
barra_d [69][0:14] <= 15'b111111111111111;
barra_d [70][0:14] <= 15'b111111111111111;
barra_d [71][0:14] <= 15'b111111111111111;
barra_d [72][0:14] <= 15'b111111111111111;
barra_d [73][0:14] <= 15'b111111111111111;
barra_d [74][0:14] <= 15'b111111111111111;
barra_d [75][0:14] <= 15'b111111111111111;
barra_d [76][0:14] <= 15'b111111111111111;
barra_d [77][0:14] <= 15'b111111111111111;
barra_d [78][0:14] <= 15'b111111111111111;
barra_d [79][0:14] <= 15'b111111111111111;
barra_d [80][0:14] <= 15'b111111111111111;
barra_d [81][0:14] <= 15'b111111111111111;
barra_d [82][0:14] <= 15'b111111111111111;
barra_d [83][0:14] <= 15'b111111111111111;
barra_d [84][0:14] <= 15'b111111111111111;
barra_d [85][0:14] <= 15'b111111111111111;
barra_d [86][0:14] <= 15'b111111111111111;
barra_d [87][0:14] <= 15'b111111111111111;
barra_d [88][0:14] <= 15'b111111111111111;
barra_d [89][0:14] <= 15'b111111111111111;
barra_d [90][0:14] <= 15'b111111111111111;
barra_d [91][0:14] <= 15'b111111111111111;
barra_d [92][0:14] <= 15'b111111111111111;
barra_d [93][0:14] <= 15'b111111111111111;
barra_d [94][0:14] <= 15'b111111111111111;
barra_d [95][0:14] <= 15'b111111111111111;
barra_d [96][0:14] <= 15'b111111111111111;
barra_d [97][0:14] <= 15'b111111111111111;
barra_d [98][0:14] <= 15'b111111111111111;
barra_d [99][0:14] <= 15'b111111111111111;

bola [0] [19: 0] <= 20'b00000000000000000000;
bola [1] [19: 0] <= 20'b00000001111100000000;
bola [2] [19: 0] <= 20'b00000111111111000000;
bola [3] [19: 0] <= 20'b00011111111111110000;
bola [4] [19: 0] <= 20'b00111111111111111000;
bola [5] [19: 0] <= 20'b00111111111111111000;
bola [6] [19: 0] <= 20'b01111111111111111100;
bola [7] [19: 0] <= 20'b01111111111111111100;
bola [8] [19: 0] <= 20'b11111111111111111110;
bola [9] [19: 0] <= 20'b11111111111111111110;
bola [10] [19: 0] <= 20'b11111111111111111110;
bola [11] [19: 0] <= 20'b11111111111111111110;
bola [12] [19: 0] <= 20'b11111111111111111110;
bola [13] [19: 0] <= 20'b01111111111111111100;
bola [14] [19: 0] <= 20'b01111111111111111100;
bola [15] [19: 0] <= 20'b00111111111111111000;
bola [16] [19: 0] <= 20'b00111111111111111000;
bola [17] [19: 0] <= 20'b00011111111111110000;
bola [18] [19: 0] <= 20'b00000111111111000000;
bola [19] [19: 0] <= 20'b00000001111100000000;


//Clock para o sincronizador
reg clkr;

always @(posedge Clock)
begin
    clkr <= ~clkr;
end

//Sincronizador
reg HPOS ;
reg VPOS ;

sincronizador sincr (clkr, HSync, VSync, HPOS, VPOS);


// Pintura da tela
always @(posedge clkr) begin

	if((HPOS > 640) || (VPOS > 480)) //Se os valores de 640 vs 480 forem mudados é necessário mudar esses valores dentro de sincr
        begin
            R <= 1'b0;
            G <= 1'b0;
            B <= 1'b0;
        end
    else
        begin	
            R <= 4'b0000;
            G <= 4'b0000;
            B <= 4'b0000;
        end


    if((HPOS >= barra_e_x && HPOS < barra_e_x + largura_barra ) &&  (VPOS >= barra_e_y && VPOS < barra_d_y + altura_barra))
    	begin
    		if(barra_e[HPOS - barra_e_x][VPOS - barra_e_y] == 1)
    			begin

    				R <= 4'b1111;
            		G <= 4'b1111;
            		B <= 4'b1111;

    			end

 		end


    if((HPOS >= barra_d_x && HPOS < barra_d_x + largura_barra ) &&  (VPOS >= barra_d_y && VPOS < barra_d_y + altura_barra))
    	begin
    		if(barra_d[HPOS - barra_d_x][VPOS - barra_d_y] == 1)
    			begin

    				R <= 4'b1111;
            		G <= 4'b1111;
            		B <= 4'b1111;

    			end
    	end

    if((HPOS >= bola_x && HPOS < bola_x + tamanho_bola ) &&  (VPOS >= bola_y && VPOS < bola_y + tamanho_bola))
    	begin
    		if(bola[HPOS - bola_x][VPOS - bola_y] == 1)
    			begin

    				R <= 4'b1111;
            		G <= 4'b1111;
            		B <= 4'b1111;

    			end
    	end


end




endmodule